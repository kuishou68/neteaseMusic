<view class="container bg-main pos-r"><musichead vue-id="35a7246c-1" title="登录" icon="{{true}}" iconBlack="{{true}}" bind:__l="__l"></musichead><view class="padding-xl dflex-c dflex-flow-c"><view class="headimg-box margin-top margin-bottom-xl"><image class="headimg border-radius-c" src="/static/user/default.png"></image></view><swiper class="w-full" style="height:190rpx;" duration="200" disable-touch="{{true}}" current="{{loginWay=='code'?0:1}}"><swiper-item><view class="w-full dflex padding-bottom-sm"><view class="iconfont iconshouji margin-right"></view><view class="flex1 dflex"><input class="border-line padding-sm flex1" type="number" data-key="mobile" maxlength="11" placeholder="请输入手机号" data-event-opts="{{[['input',[['inputChange',['$event']]]]]}}" value="{{mobile}}" bindinput="__e"/></view></view><view class="w-full dflex padding-bottom-sm"><view class="iconfont iconyanzheng margin-right"></view><view class="border-line flex1 dflex"><input class="padding-sm flex1" type="number" data-key="code" maxlength="6" placeholder="请输入验证码" data-event-opts="{{[['input',[['inputChange',['$event']]]],['confirm',[['register',['$event']]]]]}}" value="{{code}}" bindinput="__e" bindconfirm="__e"/><block wx:if="{{!is_send}}"><view data-event-opts="{{[['tap',[['sendCode',['$event']]]]]}}" class="padding-tb-sm ft-base" bindtap="__e">发送验证码</view></block><block wx:else><view class="padding-tb-sm ft-base">{{code_time+"s 重新获取"}}</view></block></view></view><use-smscode vue-id="35a7246c-2" type="login" mobile="{{mobile}}" agreement="{{agreement}}" agreementContent="{{agreementContent}}" data-event-opts="{{[['^change',[['codeChange']]],['^confirm',[['tologin']]]]}}" bind:change="__e" bind:confirm="__e" bind:__l="__l"></use-smscode></swiper-item><swiper-item><view class="w-full dflex padding-bottom-sm"><view class="iconfont iconshouji margin-right"></view><view class="flex1 dflex"><input class="border-line padding-sm flex1" type="number" data-key="mobile" maxlength="11" placeholder="请输入手机号" data-event-opts="{{[['input',[['inputChange',['$event']]]]]}}" value="{{mobile}}" bindinput="__e"/><block wx:if="{{0==1}}"><view data-event-opts="{{[['tap',[['send_code',['$event']]]]]}}" class="padding-tb-sm ft-dark" bindtap="__e">获取</view></block></view></view><view class="w-full dflex"><view class="iconfont iconmima margin-right"></view><view class="dflex flex1 border-line"><input class="padding-sm flex1" type="text" password="{{true}}" data-key="password" maxlength="20" placeholder="请输入密码" data-event-opts="{{[['input',[['inputChange',['$event']]]],['confirm',[['tologin',['$event']]]]]}}" value="{{password}}" bindinput="__e" bindconfirm="__e"/><view class="pos-r"><view class="vertical-line" style="right:calc(100% + 20rpx);"></view></view></view></view></swiper-item></swiper><view class="w-full margin-top-xxl"><view class="dflex-b border-radius-lg"><view data-event-opts="{{[['tap',[['tologin',['$event']]]]]}}" class="tac padding-tb-sm flex1 bg-base fs" bindtap="__e">登录</view></view></view><view class="dflex-b w-full margin-bottom-sm ft-dark-4"><block wx:if="{{loginWay=='pwd'}}"><view data-event-opts="{{[['tap',[['loginWayChange',['code']]]]]}}" class="padding-tb-sm" bindtap="__e"></view></block><block wx:if="{{loginWay=='code'}}"><view data-event-opts="{{[['tap',[['loginWayChange',['pwd']]]]]}}" class="padding-tb-sm" bindtap="__e">账号密码登录</view></block><view data-event-opts="{{[['tap',[['toregister',['$event']]]]]}}" class="padding-tb-sm" bindtap="__e">立即注册</view></view><block wx:if="{{agreementDatas&&agreementDatas.length>0}}"><view data-event-opts="{{[['tap',[['toAgreement',['$event']]]]]}}" class="dflex w-full margin-top" bindtap="__e"><block wx:if="{{agreement}}"><view class="iconfont iconxuanzhongzhuangtai margin-right-xs ft-base"></view></block><block wx:else><view class="iconfont iconweixuanzhongzhuangtai margin-right-xs"></view></block><view class="ft-dark-3">登录即已同意<block wx:for="{{agreementDatas}}" wx:for-item="item" wx:for-index="idx" wx:key="idx"><text data-event-opts="{{[['tap',[['toContent',['$0'],[[['agreementDatas','',idx]]]]]]]}}" class="ft-base" catchtap="__e">{{"《"+item.name+"》"}}</text></block></view></view></block></view><view class="pos-f pos-bottom dflex-c w-full padding-bottom-lg"><button class="dflex-c dflex-flow-c no-border btn" lang="zh_CN" data-event-opts="{{[['tap',[['mpWeixinTologin',['$event']]]]]}}" bindtap="__e"><view class="iconfont padding-lr-sm border-radius-c fs-xxxl iconweixin"></view><view class="dflex-c fs-sm ft-dark">微信 · 授权登录</view></button></view><uni-popup class="vue-ref" vue-id="35a7246c-3" type="center" mask-click="{{false}}" animation="{{false}}" data-ref="popup" bind:__l="__l" vue-slots="{{['default']}}"><text>登录成功</text><button data-event-opts="{{[['tap',[['close',['$event']]]]]}}" bindtap="__e">关闭</button></uni-popup></view>