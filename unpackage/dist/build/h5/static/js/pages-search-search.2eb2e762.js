(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{"0017":function(n,t,e){var i=e("24fb");t=i(!1),t.push([n.i,".music-head[data-v-6c6d5db9]{height:75px;text-align:center;line-height:80px;font-size:16px;color:#000;overflow:hidden;position:relative}.music-head-icon[data-v-6c6d5db9]{width:97px;height:31px;background:rgba(0,0,0,.4);border-radius:15px;position:absolute;left:10px;top:25px;line-height:31px;display:flex;justify-content:space-evenly;color:#fff}.music-head-iconBlack[data-v-6c6d5db9]{color:#000;background:#fff;border:1px #ddd solid}",""]),n.exports=t},"0819":function(n,t,e){"use strict";e.d(t,"b",(function(){return a})),e.d(t,"c",(function(){return s})),e.d(t,"a",(function(){return i}));var i={musichead:e("1e2d").default},a=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("v-uni-view",{staticClass:"search"},[e("musichead",{attrs:{title:"搜索",icon:!0,iconBlack:!0}}),e("v-uni-view",{staticClass:"container"},[e("v-uni-scroll-view",{attrs:{"scroll-y":"true"}},[e("v-uni-view",{staticClass:"search-search"},[e("v-uni-text",{staticClass:"iconfont iconsearch"}),e("v-uni-input",{attrs:{type:"text",placeholder:"搜索歌曲"},on:{confirm:function(t){arguments[0]=t=n.$handleEvent(t),n.handleToSearch.apply(void 0,arguments)},input:function(t){arguments[0]=t=n.$handleEvent(t),n.handleToSuggest.apply(void 0,arguments)}},model:{value:n.searchWord,callback:function(t){n.searchWord=t},expression:"searchWord"}}),e("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:2==n.searchType,expression:"searchType == 2"}],staticClass:"iconfont iconguanbi",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.handleToClose.apply(void 0,arguments)}}})],1),1==n.searchType?[e("v-uni-view",{staticClass:"search-history"},[e("v-uni-view",{staticClass:"search-history-head"},[e("v-uni-text",[n._v("历史记录")]),e("v-uni-text",{staticClass:"iconfont iconlajitong",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.handleToClear.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"search-history-list"},n._l(n.historyList,(function(t,i){return e("v-uni-view",{key:i,on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.handleToWord(t)}}},[n._v(n._s(t))])})),1)],1),e("v-uni-view",{staticClass:"search-hot"},[e("v-uni-view",{staticClass:"search-hot-title"},[n._v("热搜榜")]),n._l(n.searchHot,(function(t,i){return e("v-uni-view",{key:i,staticClass:"search-hot-item",on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.handleToWord(t.searchWord)}}},[e("v-uni-view",{staticClass:"search-hot-top"},[n._v(n._s(i+1))]),e("v-uni-view",{staticClass:"search-hot-word"},[e("v-uni-view",[n._v(n._s(t.searchWord)),e("v-uni-image",{attrs:{src:t.iconType?t.iconUrl:"",mode:"aspectFit"}})],1),e("v-uni-view",[n._v(n._s(t.content))])],1),e("v-uni-text",{staticClass:"search-hot-count"},[n._v(n._s(t.score))])],1)}))],2)]:2==n.searchType?[e("v-uni-view",{staticClass:"search-result"},n._l(n.searchList,(function(t,i){return e("v-uni-view",{key:i,staticClass:"search-result-item",on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.handleToDetail(t.id)}}},[e("v-uni-view",{staticClass:"search-result-word"},[e("v-uni-view",[n._v(n._s(t.name))]),e("v-uni-view",[n._v(n._s(t.artists[0].name)+" - "+n._s(t.album.name))])],1),e("v-uni-text",{staticClass:"iconfont iconbofang"})],1)})),1)]:3==n.searchType?[e("v-uni-view",{staticClass:"search-suggest"},[e("v-uni-view",{staticClass:"search-suggest-title"},[n._v('搜索"'+n._s(this.searchWord)+'"')]),n._l(n.suggestList,(function(t,i){return e("v-uni-view",{key:i,staticClass:"search-suggest-item",on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.handleToWord(t.keyword)}}},[e("v-uni-text",{staticClass:"iconfont iconsearch"}),n._v(n._s(t.keyword))],1)}))],2)]:n._e()],2)],1)],1)},s=[]},"0bab":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e("732b");var i={data:function(){return{}},props:["title","icon","color","iconBlack"],methods:{handleToBack:function(){uni.navigateBack()},handleToHome:function(){uni.navigateTo({url:"/pages/index/index"})}}};t.default=i},"1e2d":function(n,t,e){"use strict";e.r(t);var i=e("e06b"),a=e("4f62");for(var s in a)"default"!==s&&function(n){e.d(t,n,(function(){return a[n]}))}(s);e("f4bf");var r,o=e("f0c5"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"6c6d5db9",null,!1,i["a"],r);t["default"]=c.exports},"4a27":function(n,t,e){var i=e("24fb");t=i(!1),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*搜索栏*/.search-search[data-v-2803c380]{display:flex;background:#f7f7f7;height:%?73?%;margin:%?28?% %?30?% %?30?% %?30?%;border-radius:%?50?%;align-items:center}.search-search uni-text[data-v-2803c380]{margin:0 %?27?%}.search-search uni-input[data-v-2803c380]{font-size:%?26?%;flex:1}\n/*搜索历史*/.search-history[data-v-2803c380]{margin:0 %?30?%;font-size:%?26?%}.search-history-head[data-v-2803c380]{display:flex;justify-content:space-between}.search-history-list[data-v-2803c380]{display:flex;margin-top:%?36?%;flex-wrap:wrap}.search-history-list uni-view[data-v-2803c380]{padding:%?20?% %?40?%;background:#f7f7f7;border-radius:%?50?%;margin-right:%?30?%;margin-bottom:%?20?%}\n/*热搜榜*/.search-hot[data-v-2803c380]{margin:%?30?% %?30?%;font-size:%?26?%;color:#bebebe}.search-hot-item[data-v-2803c380]{display:flex;align-items:center;margin-top:%?40?%}.search-hot-top[data-v-2803c380]{width:%?60?%;color:#fb2221;font-size:%?34?%}.search-hot-word[data-v-2803c380]{flex:1}.search-hot-word uni-view[data-v-2803c380]:nth-child(1){font-size:%?36?%;color:#000}.search-hot-word uni-image[data-v-2803c380]{width:%?48?%;height:%?22?%}\n/*搜索内容*/.search-result[data-v-2803c380]{border-top:%?2?% #e5e5e5 solid;padding:%?30?%}.search-result-item[data-v-2803c380]{display:flex;align-items:center;border-bottom:%?2?% #e5e5e5 solid;padding-bottom:%?30?%;margin-bottom:%?30?%}.search-result-item uni-text[data-v-2803c380]{font-size:%?50?%}.search-result-word[data-v-2803c380]{flex:1}.search-result-word uni-view[data-v-2803c380]:nth-child(1){font-size:%?28?%;color:#3e6694}.search-result-word uni-view[data-v-2803c380]:nth-child(2){font-size:%?26?%}\n/*搜索提示*/.search-suggest[data-v-2803c380]{border-top:%?2?% #e5e5e5 solid;padding:%?30?%;font-size:%?26?%}.search-suggest-title[data-v-2803c380]{color:#537caa;margin-bottom:%?40?%}.search-suggest-item[data-v-2803c380]{color:#666;margin-bottom:%?70?%}.search-suggest-item uni-text[data-v-2803c380]{color:#c2c2c2;font-size:%?26?%;margin-right:%?26?%}",""]),n.exports=t},"4f62":function(n,t,e){"use strict";e.r(t);var i=e("0bab"),a=e.n(i);for(var s in i)"default"!==s&&function(n){e.d(t,n,(function(){return i[n]}))}(s);t["default"]=a.a},6062:function(n,t,e){"use strict";var i=e("6d61"),a=e("6566");n.exports=i("Set",(function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}}),a)},6566:function(n,t,e){"use strict";var i=e("9bf2").f,a=e("7c73"),s=e("e2cc"),r=e("0366"),o=e("19aa"),c=e("2266"),u=e("7dd0"),d=e("2626"),l=e("83ab"),h=e("f183").fastKey,v=e("69f3"),f=v.set,p=v.getterFor;n.exports={getConstructor:function(n,t,e,u){var d=n((function(n,i){o(n,d,t),f(n,{type:t,index:a(null),first:void 0,last:void 0,size:0}),l||(n.size=0),void 0!=i&&c(i,n[u],n,e)})),v=p(t),g=function(n,t,e){var i,a,s=v(n),r=y(n,t);return r?r.value=e:(s.last=r={index:a=h(t,!0),key:t,value:e,previous:i=s.last,next:void 0,removed:!1},s.first||(s.first=r),i&&(i.next=r),l?s.size++:n.size++,"F"!==a&&(s.index[a]=r)),n},y=function(n,t){var e,i=v(n),a=h(t);if("F"!==a)return i.index[a];for(e=i.first;e;e=e.next)if(e.key==t)return e};return s(d.prototype,{clear:function(){var n=this,t=v(n),e=t.index,i=t.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,l?t.size=0:n.size=0},delete:function(n){var t=this,e=v(t),i=y(t,n);if(i){var a=i.next,s=i.previous;delete e.index[i.index],i.removed=!0,s&&(s.next=a),a&&(a.previous=s),e.first==i&&(e.first=a),e.last==i&&(e.last=s),l?e.size--:t.size--}return!!i},forEach:function(n){var t,e=v(this),i=r(n,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:e.first){i(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(n){return!!y(this,n)}}),s(d.prototype,e?{get:function(n){var t=y(this,n);return t&&t.value},set:function(n,t){return g(this,0===n?0:n,t)}}:{add:function(n){return g(this,n=0===n?0:n,n)}}),l&&i(d.prototype,"size",{get:function(){return v(this).size}}),d},setStrong:function(n,t,e){var i=t+" Iterator",a=p(t),s=p(i);u(n,t,(function(n,t){f(this,{type:i,target:n,state:a(n),kind:t,last:void 0})}),(function(){var n=s(this),t=n.kind,e=n.last;while(e&&e.removed)e=e.previous;return n.target&&(n.last=e=e?e.next:n.state.first)?"keys"==t?{value:e.key,done:!1}:"values"==t?{value:e.value,done:!1}:{value:[e.key,e.value],done:!1}:(n.target=void 0,{value:void 0,done:!0})}),e?"entries":"values",!e,!0),d(t)}}},6999:function(n,t,e){var i=e("0017");"string"===typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);var a=e("4f06").default;a("c52afb3e",i,!0,{sourceMap:!1,shadowMode:!1})},8583:function(n,t,e){"use strict";var i=e("4ea4");e("d3b7"),e("6062"),e("3ca3"),e("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(e("2909")),s=e("a49c");e("732b");var r={data:function(){return{searchHot:[],searchWord:"",historyList:[],searchType:1,searchList:[],suggestList:[]}},onLoad:function(){var n=this;(0,s.searchHot)().then((function(t){"200"==t[1].data.code&&(n.searchHot=t[1].data.data)})),uni.getStorage({key:"searchHistory",success:function(t){n.historyList=t.data}})},methods:{handleToSearch:function(){this.historyList.unshift(this.searchWord),this.historyList=(0,a.default)(new Set(this.historyList)),this.historyList.length>10&&(this.historyList.length=10),uni.setStorage({key:"searchHistory",data:this.historyList}),this.getSearchList(this.searchWord)},handleToClear:function(){var n=this;uni.removeStorage({key:"searchHistory",success:function(){n.historyList=[]}})},getSearchList:function(n){var t=this;(0,s.searchWord)(n).then((function(n){"200"==n[1].data.code&&(t.searchList=n[1].data.result.songs,t.searchType=2)}))},handleToClose:function(){this.searchWord="",this.searchType=1},handleToSuggest:function(n){var t=this,e=n.detail.value;e?(0,s.searchSuggest)(e).then((function(n){"200"==n[1].data.code&&(t.suggestList=n[1].data.result.allMatch,t.searchType=3)})):this.searchType=1},handleToWord:function(n){this.searchWord=n,this.handleToSearch()},handleToDetail:function(n){uni.navigateTo({url:"/pages/detail/detail?songId="+n})}}};t.default=r},"998d":function(n,t,e){"use strict";e.r(t);var i=e("8583"),a=e.n(i);for(var s in i)"default"!==s&&function(n){e.d(t,n,(function(){return i[n]}))}(s);t["default"]=a.a},"9d93":function(n,t,e){var i=e("4a27");"string"===typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);var a=e("4f06").default;a("73fb5452",i,!0,{sourceMap:!1,shadowMode:!1})},d04f:function(n,t,e){"use strict";e.r(t);var i=e("0819"),a=e("998d");for(var s in a)"default"!==s&&function(n){e.d(t,n,(function(){return a[n]}))}(s);e("ec67");var r,o=e("f0c5"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"2803c380",null,!1,i["a"],r);t["default"]=c.exports},e06b:function(n,t,e){"use strict";var i;e.d(t,"b",(function(){return a})),e.d(t,"c",(function(){return s})),e.d(t,"a",(function(){return i}));var a=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("v-uni-view",{staticClass:"music-head",style:{color:n.color}},[n.icon?e("v-uni-view",{staticClass:"music-head-icon",class:{"music-head-iconBlack":n.iconBlack}},[e("v-uni-text",{staticClass:"iconfont icon-Rectangle",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.handleToBack.apply(void 0,arguments)}}}),n._v("|"),e("v-uni-text",{staticClass:"iconfont icon-icon-shouye",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.handleToHome.apply(void 0,arguments)}}})],1):n._e(),n._v(n._s(n.title))],1)},s=[]},ec67:function(n,t,e){"use strict";var i=e("9d93"),a=e.n(i);a.a},f4bf:function(n,t,e){"use strict";var i=e("6999"),a=e.n(i);a.a}}]);